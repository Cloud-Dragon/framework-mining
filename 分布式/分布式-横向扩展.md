# 横向扩展

​        无论是存储还是计算资源，当数据量大到一定程度，单机无法承受，就需要将数据切分，分散到不同的机器上，这时候就需要分片技术。

​        本文讨论的横向扩展是指有状态的扩展，比如数据库的分库分表，es分片，redis，kafka的partition等等无状态比如机器直接扩容，堆机器即可解决，



hash

哈希算法有很多，本质上就是一种规则映射，id范围，时间范围本文也都归为hash这一类。通过hash算法可以将数据打散到不同的节点上，实现横向扩展

- 取余
- 范围
- 



顺序

范围





存在问题



非顺序



- **一致性 Hash 分片机制**
- **预分片机制**





我们结合基础组件在生产环境的应用进行分析。





es分片

redis

mysql分库分表

kafka



https://mp.weixin.qq.com/s/mZo7Dg6gfNqXoetaqgwMww

