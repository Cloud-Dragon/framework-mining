





## 类加载机制



    当程序主动使用某个类时，如果该类还未被加载到内存中，系统会通过加载、连接、初始化三个步骤来对该类进行初始化，如果没有意外，JVM将会连续完成这三个步骤，所以有时也把这三个步骤统称为类加载或类初始化。

加载：查找并加载类的二进制数据

     1、通过一个类的全限定名来获取定义此类的二进制字节流。
2、将这个字节流所代表的静态存储结构转化为方法区的运行时数据结构。
3、在java堆中生成一个代表这个类的java.lang.Class对象，作为方法区这些数据的访问入口。

注意：将编译后的java类文件（也就是.class文件）中的二进制数据读入内存，并将其放在运行时数据区的方法区内，然后再堆区创建一个Java.lang.Class对象，用来封装类在方法区的数据结构。即加载后最终得到的是Class对象，并且更加值得注意的是：该Java.lang.Class对象是单实例的，无论这个类创建了多少个对象，他的Class对象时唯一的！
连接：
        1、验证：确保被加载的类的正确性
        2、准备：为类的静态变量分配内存，并将其初始化为默认值
        3、解析：把类中的符号引用转换为直接引用。
初始化：为类的静态变量赋予正确的初始值。

注意：连接和初始化阶段，其实静态变量经过了两次赋值：第一次是静态变量类型的默认值；第二次是我们真正赋给静态变量的值。

### 加载

类加载器

- 

双亲委派模型